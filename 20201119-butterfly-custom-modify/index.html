<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>butterfly主题个性化修改（hexo博客）笔记 | 星流迭雪</title><meta name="keywords" content="hexo,note,buterfly"><meta name="author" content="星流迭雪"><meta name="copyright" content="星流迭雪"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="基于butterfly主题3.3.0版本，其他版本会有所差异，本个性化修改备忘录为从安装hexo开始。参考文档：hexo官方文档、butterfly主题官方文档、npm包官方登记站。   安装软件安装node.js 和 Git。 换源更换成国内阿里系淘宝npm源，加快模块安装速度：在将要安放博客文件的目录里打开Git Bash并继续： 1npm config set registry https:">
<meta property="og:type" content="article">
<meta property="og:title" content="butterfly主题个性化修改（hexo博客）笔记">
<meta property="og:url" content="https://xingliudie.top/20201119-butterfly-custom-modify/index.html">
<meta property="og:site_name" content="星流迭雪">
<meta property="og:description" content="基于butterfly主题3.3.0版本，其他版本会有所差异，本个性化修改备忘录为从安装hexo开始。参考文档：hexo官方文档、butterfly主题官方文档、npm包官方登记站。   安装软件安装node.js 和 Git。 换源更换成国内阿里系淘宝npm源，加快模块安装速度：在将要安放博客文件的目录里打开Git Bash并继续： 1npm config set registry https:">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xingliudie.top/img/custom/butterfly.webp">
<meta property="article:published_time" content="2020-11-19T07:26:31.000Z">
<meta property="article:modified_time" content="2020-11-24T07:48:56.665Z">
<meta property="article:author" content="星流迭雪">
<meta property="article:tag" content="hexo">
<meta property="article:tag" content="note">
<meta property="article:tag" content="buterfly">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xingliudie.top/img/custom/butterfly.webp"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://xingliudie.top/20201119-butterfly-custom-modify/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="yandex-verification" content="{&quot;theme_color&quot;:{&quot;enable&quot;:true,&quot;main&quot;:&quot;#FCA4D4&quot;,&quot;paginator&quot;:&quot;#FFCCE6&quot;,&quot;button_hover&quot;:&quot;#FF8F91&quot;,&quot;text_selection&quot;:&quot;##49B1F5&quot;,&quot;link_color&quot;:&quot;#99a9bf&quot;,&quot;meta_color&quot;:&quot;#858585&quot;,&quot;hr_color&quot;:&quot;#A4D8FA&quot;,&quot;code_foreground&quot;:&quot;#FF8F91&quot;,&quot;code_background&quot;:&quot;rgba(27, 31, 35, .05)&quot;,&quot;toc_color&quot;:&quot;#FFCCE6&quot;,&quot;blockquote_padding_color&quot;:&quot;#FFCCE6&quot;,&quot;blockquote_background_color&quot;:&quot;#FFCCE6&quot;}}"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 星流迭雪","link":"链接: ","source":"来源: 星流迭雪","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: {"text":"富强,民主,文明,和谐,爱国,敬业,诚信,友善,自由,平等,公正,法治","fontSize":"15px"},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"rgba(252, 164, 212, 0.89)","bgDark":"#121212","position":"bottom-right"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2020-11-24 15:48:56'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><style type="text/css">.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><link rel="stylesheet" href="/css/self.css"><link rel="stylesheet" href="https://at.alicdn.com/t/font_2138141_nn6d12as14.css"><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="星流迭雪" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/atom.xml"><i class="fa-fw fas fa-rss"></i><span> RSS订阅</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 镜像站</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/github/"><i class="fa-fw iconfont icon-GitHub"></i><span> GitHub</span></a></li><li><a class="site-page" href="/coding/"><i class="fa-fw iconfont icon-coding"></i><span> coding</span></a></li></ul></div></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/butterfly-custom-modify/mountain.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">星流迭雪</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/atom.xml"><i class="fa-fw fas fa-rss"></i><span> RSS订阅</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 镜像站</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/github/"><i class="fa-fw iconfont icon-GitHub"></i><span> GitHub</span></a></li><li><a class="site-page" href="/coding/"><i class="fa-fw iconfont icon-coding"></i><span> coding</span></a></li></ul></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><h1 class="post-title">butterfly主题个性化修改（hexo博客）笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-11-19T07:26:31.000Z" title="发表于 2020-11-19 15:26:31">2020-11-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-11-24T07:48:56.665Z" title="更新于 2020-11-24 15:48:56">2020-11-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/hexo/">hexo</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>17分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div><canvas id="header_canvas" style="width: 100%;hight: 100%;overflow-x: hidden;outline-style: none;outline-width: 0px;pointer-events: none;position: relative;z-index: 99999;bottom: 0"></canvas></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><div class="note danger simple"><p>基于butterfly主题3.3.0版本，其他版本会有所差异，本个性化修改备忘录为从安装hexo开始。<br>参考文档：<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/">hexo官方文档</a>、<a target="_blank" rel="noopener" href="https://butterfly.js.org/">butterfly主题官方文档</a>、<a target="_blank" rel="noopener" href="https://www.npmjs.com/">npm包官方登记站</a>。</p>
</div>

<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="软件"><a href="#软件" class="headerlink" title="软件"></a>软件</h2><p>安装<a target="_blank" rel="noopener" href="https://nodejs.org/en/">node.js</a> 和 <a target="_blank" rel="noopener" href="https://git-scm.com/">Git</a>。</p>
<h2 id="换源"><a href="#换源" class="headerlink" title="换源"></a>换源</h2><p>更换成国内阿里系<a target="_blank" rel="noopener" href="https://developer.aliyun.com/mirror/NPM">淘宝npm源</a>，加快模块安装速度：<br>在将要安放博客文件的目录里打开<code>Git Bash</code>并继续：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https:<span class="comment">//registry.npm.taobao.org</span></span><br></pre></td></tr></table></figure>

<p>查看镜像源配置信息：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm info underscore</span><br></pre></td></tr></table></figure>

<h2 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<p>查看hexo版本：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure>

<h2 id="初始化网站"><a href="#初始化网站" class="headerlink" title="初始化网站"></a>初始化网站</h2><p>初始化博客根文件夹（将生成一个名为“blogName”的文件夹作为工作目录并初始化生成hexo博客文件）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init blogName</span><br></pre></td></tr></table></figure>

<p>进入blogName文件夹：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd blogName</span><br></pre></td></tr></table></figure>

<h2 id="安装butterfly主题"><a href="#安装butterfly主题" class="headerlink" title="安装butterfly主题"></a>安装butterfly主题</h2><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">手动下载</button></li><li class="tab"><button type="button" data-href="#-2">Git安装</button></li><li class="tab"><button type="button" data-href="#-3">npm安装</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p>打开<a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly/releases/tag/3.3.0">butterfly主题链接</a>并下载source Code(zip)到本地并解压放入 blogName\themes\butterfly\路径下，最终文件放置样式跟blogName\themes\landscape里差不多。</p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p>Github:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https:<span class="comment">//github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span></span><br></pre></td></tr></table></figure>

<p>Gitee:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https:<span class="comment">//gitee.com/iamjerryw/hexo-theme-butterfly.git themes/butterfly</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><blockquote>
<p>适合hexo5.0.0以上版本</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-theme-butterfly</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<ul>
<li>应用主题<br>修改站点配置文件_config.yml，把主题改为butterfly<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="个性化修改前安装插件"><a href="#个性化修改前安装插件" class="headerlink" title="个性化修改前安装插件"></a>个性化修改前安装插件</h2><p> 安装pug 以及 stylus 渲染器插件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure>

<h2 id="安装将要用到的插件插件"><a href="#安装将要用到的插件插件" class="headerlink" title="安装将要用到的插件插件"></a>安装将要用到的插件插件</h2><ul>
<li>注脚插件（可选）： hexo-reference，<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/hexo-reference">reference插件说明</a>。</li>
<li>部署插件(必要)： hexo-deployer-git</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-wordcount hexo-wordcount hexo-generator-search hexo-reference hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<h2 id="升级建议："><a href="#升级建议：" class="headerlink" title="升级建议："></a><strong>升级建议：</strong></h2><p>把主题文件夹中的 _config.yml 复製到 Hexo 根目录里，同时重新命名为 _config.butterfly.yml。<br>以后只需要在 _config.butterfly.yml进行配置就行。<br>Hexo会自动合併主题中的_config.yml和 _config.butterfly.yml里的配置，如果存在同名配置，会使用_config.butterfly.yml的配置，其优先度较高。<br><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/01.png"></p>
<h1 id="个性化配置"><a href="#个性化配置" class="headerlink" title="个性化配置"></a>个性化配置</h1><p>写在前面：</p>
<ul>
<li><font color= #00c4b6>博客配置文件</font>：blogName\路径下_config.yml文件。</li>
<li><font color=#F98DC7>主题配置文件</font>：blogName\themes\butterfly\路径下_config.yml文件。</li>
</ul>
<ol>
<li>博客配置<br>按照<font color= #00c4b6>博客配置文件</font>里相应注释进行更改。</li>
<li>主题个性化<br>按照<font color=#F98DC7>主题配置文件</font>里相应注释进行更改。</li>
</ol>
<h1 id="全局定制"><a href="#全局定制" class="headerlink" title="全局定制"></a>全局定制</h1><h2 id="主题色"><a href="#主题色" class="headerlink" title="主题色"></a>主题色</h2><p>去掉<code>theme_color:</code>项以及其所属子项前的注释，更改相应颜色代码，背景色更改 background: <font color=#FEE2E2>“#FEE2E2”</font>。<br>其他更多颜色更改blogName\themes\butterfly\source\css\var.styl里相应值。<br>文章目录激活颜色修改blogName\themes\butterfly\source\css_layout\aside.styl文件中代码如下位置background值，格式参照var.styl文件：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.toc-link</span></span><br><span class="line">   <span class="selector-tag">display</span>: <span class="selector-tag">block</span></span><br><span class="line">   <span class="selector-tag">padding-left</span>: <span class="selector-class">.3rem</span></span><br><span class="line">   <span class="selector-tag">border-left</span>: 3<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">transparent</span></span><br><span class="line">   <span class="selector-tag">color</span>: <span class="selector-tag">var</span>(<span class="selector-tag">--toc-link-color</span>)</span><br><span class="line">   <span class="selector-tag">transition</span>: <span class="selector-tag">all</span> <span class="selector-class">.2s</span> <span class="selector-tag">ease-in-out</span></span><br><span class="line"></span><br><span class="line">   &amp;<span class="selector-class">.active</span></span><br><span class="line">      border-left-color: darken($theme-toc-color, 20%)</span><br><span class="line">      background: $theme-toc-color //此位置</span><br><span class="line">      color: $toc-active-color</span><br></pre></td></tr></table></figure>

<h2 id="字数统计"><a href="#字数统计" class="headerlink" title="字数统计"></a>字数统计</h2><p>安装文章字数统计插件: hexo-wordcount</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure>

<p><font color=#F98DC7>主题配置文件</font>:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wordcount (字數統計)</span></span><br><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_wordcount:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_wordcount:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="网站内搜索"><a href="#网站内搜索" class="headerlink" title="网站内搜索"></a>网站内搜索</h2><p>安装网站内搜索搜索插件： hexo-generator-search</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure>

<p><font color=#F98DC7>主题配置文件</font>:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">  <span class="attr">input_placeholder:</span> <span class="string">Search</span> <span class="string">for</span> <span class="string">Posts</span></span><br><span class="line">  <span class="attr">hits_empty:</span> <span class="string">&quot;We didn&#x27;t find any results for the search: $&#123;query&#125;&quot;</span> <span class="comment"># if there are no result</span></span><br></pre></td></tr></table></figure>

<h2 id="鼠标点击特效"><a href="#鼠标点击特效" class="headerlink" title="鼠标点击特效"></a>鼠标点击特效</h2><p>修改相应主题配置值为true：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mouse click effects: fireworks (鼠标点击效果: 火焰特效)</span></span><br><span class="line"><span class="attr">fireworks:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">9999</span> <span class="comment"># -1 or 9999</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Mouse click effects: Heart symbol (鼠标点击效果: 爱心)</span></span><br><span class="line"><span class="attr">click_heart:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Mouse click effects: words (鼠标点击效果: 文字)</span></span><br><span class="line"><span class="attr">ClickShowText:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">text:</span></span><br><span class="line">    <span class="comment"># - I</span></span><br><span class="line">    <span class="comment"># - LOVE</span></span><br><span class="line">    <span class="comment"># - YOU</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">富强</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">民主</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">文明</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">和谐</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">爱国</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">敬业</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">诚信</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">友善</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">自由</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">平等</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">公正</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">法治</span></span><br><span class="line">  <span class="attr">fontSize:</span> <span class="string">15px</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="引入自定义效果"><a href="#引入自定义效果" class="headerlink" title="引入自定义效果"></a>引入自定义效果</h2><p>引入自定义css文件：blogName\themes\butterfly\source\css\路径下新建文件<code>self.css</code>,并在<font color=#F98DC7>主题配置文件</font>中修改成如下：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/self.css&quot;&gt;</span> <span class="comment">#自定义效果</span></span><br></pre></td></tr></table></figure>

<p>引入自定义js文件：blogName\themes\butterfly\source\js\路径下新建文件<code>self.js</code>,并在<font color=#F98DC7>主题配置文件</font>中修改成如下：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">    <span class="attr">bottom:</span> <span class="comment">#自定义js文件</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/self.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>主题默认使用<a target="_blank" rel="noopener" href="https://fontawesome.dashgame.com/">fontawesome图标</a>，使用第三方图标参考：<br><a target="_blank" rel="noopener" href="https://www.antmoe.com/posts/80c43671/index.html">Hexo博客之优雅使用阿里iconfont图标</a></p>
<h3 id="更改鼠标指针"><a href="#更改鼠标指针" class="headerlink" title="更改鼠标指针"></a>更改鼠标指针</h3><p>下载鼠标指针文件，放入blogName\themes\butterfly\source\cursor路径下，文件格式<code>.cur</code><br>在<code>self.css</code>文件中加入代码：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*鼠标指针*/</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(/cursor/default.cur),</span><br><span class="line">        default;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(/cursor/pointer.cur),</span><br><span class="line">        default;</span><br></pre></td></tr></table></figure>

<h3 id="右侧滚动条"><a href="#右侧滚动条" class="headerlink" title="右侧滚动条"></a>右侧滚动条</h3><p>在<code>self.css</code>文件中加入代码：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 右滚动条 */</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">8px</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;</span><br><span class="line">	<span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">73</span>, <span class="number">177</span>, <span class="number">245</span>, <span class="number">0.2</span>);</span><br><span class="line">	<span class="attribute">border-radius</span>: <span class="number">2em</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">	<span class="attribute">background-color</span>: <span class="number">#49b1f5</span>;</span><br><span class="line">	<span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>(</span><br><span class="line">	  <span class="number">45deg</span>,</span><br><span class="line">	  rgba(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">25%</span>,</span><br><span class="line">	  transparent <span class="number">25%</span>,</span><br><span class="line">	  transparent <span class="number">50%</span>,</span><br><span class="line">	  <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">50%</span>,</span><br><span class="line">	  <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">75%</span>,</span><br><span class="line">	  transparent <span class="number">75%</span>,</span><br><span class="line">	  transparent</span><br><span class="line">	);</span><br><span class="line">	<span class="attribute">border-radius</span>: <span class="number">2em</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-corner</span> &#123;</span><br><span class="line">	<span class="attribute">background-color</span>: transparent;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="selector-pseudo">::-moz-selection</span> &#123;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">	<span class="attribute">background-color</span>: <span class="number">#49b1f5</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="开启valine评论系统并美化"><a href="#开启valine评论系统并美化" class="headerlink" title="开启valine评论系统并美化"></a>开启valine评论系统并美化</h2><ol>
<li>配置LeanCloud并获取<code>appID</code>和<code>appKey</code>: 具体参照<a target="_blank" rel="noopener" href="https://valine.js.org/quickstart.html">valine文档</a>。</li>
<li>填写<font color=#F98DC7>主题配置文件</font>相应项:</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">appId:</span>  <span class="comment"># leancloud application app id</span></span><br><span class="line">  <span class="attr">appKey:</span>  <span class="comment"># leancloud application app key</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># comment list page size</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">monsterid</span> <span class="comment"># gravatar style https://valine.js.org/#/avatar</span></span><br><span class="line">  <span class="attr">lang:</span> <span class="string">zh-CN</span> <span class="comment"># i18n: zh-CN/zh-TW/en/ja</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">昵称栏输入QQ获取头像，快输入你的吐槽吧(</span> <span class="string">￣▽￣)σ</span> <span class="comment"># valine comment input placeholder (like: Please leave your footprints)</span></span><br><span class="line">  <span class="attr">guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment"># valine comment header info (nick/mail/link)</span></span><br><span class="line">  <span class="attr">recordIP:</span> <span class="literal">false</span> <span class="comment"># Record reviewer IP</span></span><br><span class="line">  <span class="attr">serverURLs:</span> <span class="comment"># This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span></span><br><span class="line">  <span class="attr">bg:</span> <span class="comment"># valine background</span></span><br><span class="line">  <span class="attr">emojiCDN:</span> <span class="comment"># emoji CDN</span></span><br><span class="line">  <span class="attr">enableQQ:</span> <span class="literal">true</span> <span class="comment"># enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span></span><br><span class="line">  <span class="attr">requiredFields:</span> <span class="string">nick,mail</span> <span class="comment"># required fields (nick/mail)</span></span><br></pre></td></tr></table></figure>

<h3 id="美化"><a href="#美化" class="headerlink" title="美化"></a>美化</h3><ol>
<li>添加<code>博主</code> <code>访客</code> <code>小伙伴</code> 标签：</li>
</ol>
<ul>
<li><p>更换成魔改过的<code>Valine.min.js</code>:<br>可以直接修改<font color=#F98DC7>主题配置文件</font>后面<code># comments</code>项的<code>valine</code>子项链接为 <a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js"><code>https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js</code></a><br>或者可以下载到博客theme/butterfly/source/js目录下并更换<code>valine</code>子项链接为 <code>/js/Valine.min.js</code></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># comments</span></span><br><span class="line"><span class="attr">gitalk:</span> <span class="string">https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js</span></span><br><span class="line"><span class="attr">gitalk_css:</span> <span class="string">https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css</span></span><br><span class="line"><span class="comment">#valine:  https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js</span></span><br><span class="line"><span class="attr">valine:</span>  <span class="string">/js/Valine.min.self.min.js</span> <span class="comment">#https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js</span></span><br><span class="line"><span class="attr">disqusjs:</span> <span class="string">https://cdn.jsdelivr.net/npm/disqusjs@1/dist/disqus.js</span></span><br><span class="line"><span class="attr">disqusjs_css:</span> <span class="string">https://cdn.jsdelivr.net/npm/disqusjs@1/dist/disqusjs.css</span></span><br><span class="line"><span class="attr">utterances:</span> <span class="string">https://utteranc.es/client.js</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>修改themes\butterfly\layout\includes\third-party\comments\路径下<code>valine.pug</code></p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"> script.</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadValine</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">initValine</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> initData = &#123;</span><br><span class="line">      el: <span class="string">&#x27;#vcomment&#x27;</span>,</span><br><span class="line">      appId: <span class="string">&#x27;#&#123;theme.valine.appId&#125;&#x27;</span>,</span><br><span class="line">      appKey: <span class="string">&#x27;#&#123;theme.valine.appKey&#125;&#x27;</span>,</span><br><span class="line">      placeholder: <span class="string">&#x27;#&#123;theme.valine.placeholder&#125;&#x27;</span>,</span><br><span class="line">      avatar: <span class="string">&#x27;#&#123;theme.valine.avatar&#125;&#x27;</span>,</span><br><span class="line">      meta: <span class="string">&#x27;#&#123;theme.valine.guest_info &#125;&#x27;</span>.split(<span class="string">&#x27;,&#x27;</span>),</span><br><span class="line">      pageSize: <span class="string">&#x27;#&#123;theme.valine.pageSize&#125;&#x27;</span>,</span><br><span class="line">      lang: <span class="string">&#x27;#&#123;theme.valine.lang&#125;&#x27;</span>,</span><br><span class="line">      recordIP: #&#123;theme.valine.recordIP&#125;,</span><br><span class="line">      serverURLs: <span class="string">&#x27;#&#123;theme.valine.serverURLs&#125;&#x27;</span>,</span><br><span class="line">      emojiCDN: <span class="string">&#x27;#&#123;theme.valine.emojiCDN&#125;&#x27;</span>,</span><br><span class="line">      emojiMaps: !&#123;emojiMaps&#125;,</span><br><span class="line">      enableQQ: #&#123;theme.valine.enableQQ&#125;,</span><br><span class="line">      path: <span class="built_in">window</span>.location.pathname,</span><br><span class="line">      <span class="comment">//-添加博主 小伙伴 访客标签新增修改：</span></span><br><span class="line">      master: <span class="string">&#x27;&#x27;</span>, <span class="comment">//博主邮箱md5 可使用网站 https://md5jiami.51240.com/ 进行转换</span></span><br><span class="line">      friends: [<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>], <span class="comment">//小伙伴邮箱md5</span></span><br><span class="line">      tagMeta: [<span class="string">&quot;博主&quot;</span>,<span class="string">&quot;小伙伴&quot;</span>,<span class="string">&quot;访客&quot;</span>],</span><br><span class="line">      <span class="comment">//-</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><font color=#F98DC7>主题配置文件</font> <code>valine</code>项：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">appId:</span>  <span class="comment"># leancloud application app id</span></span><br><span class="line">  <span class="attr">appKey:</span>  <span class="comment"># leancloud application app key</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># comment list page size</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">monsterid</span> <span class="comment"># gravatar style https://valine.js.org/#/avatar</span></span><br><span class="line">  <span class="attr">lang:</span> <span class="string">zh-CN</span> <span class="comment"># i18n: zh-CN/zh-TW/en/ja</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">昵称栏输入QQ获取头像，快输入你的吐槽吧(</span> <span class="string">￣▽￣)σ</span> <span class="comment"># valine comment input placeholder (like: Please leave your footprints)</span></span><br><span class="line">  <span class="attr">guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment"># valine comment header info (nick/mail/link)</span></span><br><span class="line">  <span class="attr">recordIP:</span> <span class="literal">false</span> <span class="comment"># Record reviewer IP</span></span><br><span class="line">  <span class="attr">serverURLs:</span> <span class="comment"># This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span></span><br><span class="line">  <span class="attr">bg:</span> <span class="comment"># valine background</span></span><br><span class="line">  <span class="attr">emojiCDN:</span> <span class="comment"># emoji CDN</span></span><br><span class="line">  <span class="attr">enableQQ:</span> <span class="literal">true</span> <span class="comment"># enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span></span><br><span class="line">  <span class="attr">requiredFields:</span> <span class="string">nick,mail</span> <span class="comment"># required fields (nick/mail)</span></span><br><span class="line">  <span class="comment">#新增</span></span><br><span class="line">  <span class="attr">metaPlaceholder:</span></span><br><span class="line">    <span class="attr">nick:</span> <span class="string">昵称/QQ号(必填)</span></span><br><span class="line">    <span class="attr">mail:</span> <span class="string">邮箱(必填)</span></span><br><span class="line">    <span class="attr">link:</span> <span class="string">网址(https://)</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>美化：</li>
</ol>
<p>引入自定义效果，在<code>self.css</code>添加如下代码：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">/* valine评论输入框背景*/</span></span><br><span class="line"><span class="selector-id">#veditor</span> &#123;</span><br><span class="line">	<span class="attribute">background-image</span>: <span class="built_in">url</span>(/img/diysay-valine.webp); <span class="comment">/*填写你的图片地址*/</span></span><br><span class="line">	<span class="attribute">background-size</span>: contain;</span><br><span class="line">	<span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">	<span class="attribute">background-position</span>: right;</span><br><span class="line">	<span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="attribute">resize</span>: vertical</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*评论框背景图输入时隐藏*/</span></span><br><span class="line"><span class="selector-id">#veditor</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">	<span class="attribute">background-position-y</span>: <span class="number">200px</span>;</span><br><span class="line">	<span class="attribute">transition</span>: all <span class="number">0.2s</span> ease-in-out <span class="number">0s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*评论输入框*/</span></span><br><span class="line"><span class="selector-class">.vwrap</span> &#123;</span><br><span class="line">	<span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">243</span>, <span class="number">250</span>, <span class="number">248</span>, <span class="number">0.438</span>);</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">15px</span> <span class="number">20px</span> <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">	<span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">	<span class="attribute">margin-bottom</span>: <span class="number">15px</span>;</span><br><span class="line">	<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">4px</span> <span class="number">1px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">12</span>);</span><br><span class="line">	<span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.vwrap</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">	<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span> <span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">12</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*评论卡片式背景*/</span></span><br><span class="line"><span class="selector-class">.vcard</span> &#123;</span><br><span class="line">	<span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">250</span>, <span class="number">243</span>, <span class="number">248</span>, <span class="number">0.438</span>);</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">15px</span> <span class="number">20px</span> <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">	<span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">	<span class="attribute">margin-bottom</span>: <span class="number">15px</span>;</span><br><span class="line">	<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">4px</span> <span class="number">1px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">12</span>);</span><br><span class="line">	<span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.vcard</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">	<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span> <span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">12</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.vquote</span> <span class="selector-class">.vcard</span> &#123;</span><br><span class="line">	<span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">245</span>, <span class="number">253</span>, <span class="number">255</span>, <span class="number">0.596</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.vcard</span> <span class="selector-class">.vh</span> <span class="selector-class">.vcard</span> &#123;</span><br><span class="line">	<span class="attribute">border</span>: none;</span><br><span class="line">	<span class="attribute">box-shadow</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*隐藏markdown按钮*/</span></span><br><span class="line"><span class="selector-class">.vcol</span><span class="selector-class">.vcol-30</span> &#123;</span><br><span class="line">	<span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*隐藏valine按钮*/</span></span><br><span class="line"><span class="selector-class">.vpower</span><span class="selector-class">.txt-right</span> &#123;</span><br><span class="line">	<span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>效果：</p>
<p> <img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/valine.png"></p>
<h2 id="添加全局吸底-Aplayer-音乐播放器"><a href="#添加全局吸底-Aplayer-音乐播放器" class="headerlink" title="添加全局吸底 Aplayer 音乐播放器"></a>添加全局吸底 Aplayer 音乐播放器</h2><p>以下步骤在 Butterfly 主题上可以正常生效</p>
<h3 id="配置播放器"><a href="#配置播放器" class="headerlink" title="配置播放器"></a>配置播放器</h3><ol>
<li>如果安装过 hexo-tag-aplayer 插件，参照该步骤，否则<font color=#FF7242>直接跳过</font>该步：<br><font color= #00c4b6>博客配置文件</font>：</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">asset_inject:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>开启 aplayerInject 选项：<br><font color=#F98DC7>主题配置文件</font>:</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inject the css and script (aplayer/meting)</span></span><br><span class="line"><span class="attr">aplayerInject:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>全局播放不中断：<br><font color=#F98DC7>主题配置文件</font>:</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pjax:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>插入 Aplayer 代码:<br>插入到<font color=#F98DC7>主题配置文件</font>的 <code>inject.bottom</code>:</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;aplayer</span> <span class="literal">no</span><span class="string">-destroy&quot;</span> <span class="string">data-id=&quot;732801999&quot;</span> <span class="string">data-server=&quot;netease&quot;</span> <span class="string">data-type=&quot;playlist&quot;</span> <span class="string">data-fixed=&quot;true&quot;</span> <span class="string">data-mini=&quot;true&quot;</span> <span class="string">data-listFolded=&quot;false&quot;</span> <span class="string">data-order=&quot;list&quot;</span> <span class="string">data-preload=&quot;none&quot;</span> <span class="string">data-autoplay=&quot;false&quot;</span> <span class="string">muted&gt;&lt;/div&gt;</span> </span><br></pre></td></tr></table></figure>

<p>参数：</p>
<table>
<thead>
<tr>
<th align="left">关键字</th>
<th align="left">默认值</th>
<th align="left">选项描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">data-id（必要）</td>
<td align="left">自己获取并填写</td>
<td align="left">song id / playlist id / album id / search keyword</td>
</tr>
<tr>
<td align="left">data-server（必要）</td>
<td align="left">自定义</td>
<td align="left">填写歌曲平台: <code>netease</code>, <code>tencent</code>, <code>kugou</code>, <code>xiami</code>, <code>baidu</code></td>
</tr>
<tr>
<td align="left">data-type（必要）</td>
<td align="left">自定义</td>
<td align="left"><code>song</code>, <code>playlist</code>, <code>album</code>, <code>search</code>, <code>artist</code></td>
</tr>
<tr>
<td align="left">data-theme</td>
<td align="left">#2980b9</td>
<td align="left">主题颜色代码</td>
</tr>
<tr>
<td align="left">data-loop</td>
<td align="left"><code>all</code></td>
<td align="left">音频循环播放, 可选值: <code>all</code>, <code>one</code>, <code>none</code></td>
</tr>
<tr>
<td align="left">data-order</td>
<td align="left"><code>list</code></td>
<td align="left">音频循环顺序, 可选值: <code>list</code>, <code>random</code></td>
</tr>
<tr>
<td align="left">data-preload</td>
<td align="left"><code>auto</code></td>
<td align="left">预加载，可选值: <code>none</code>, <code>metadata</code>, <code>auto</code></td>
</tr>
<tr>
<td align="left">data-autoplay</td>
<td align="left">false</td>
<td align="left">是否自动播放：<code>true</code>，<code>false</code></td>
</tr>
<tr>
<td align="left">data-mutex</td>
<td align="left">true</td>
<td align="left">互斥，阻止多个播放器同时播放，当前播放器播放时暂停其他播放器</td>
</tr>
<tr>
<td align="left">data-listFolded</td>
<td align="left">false</td>
<td align="left">列表默认折叠</td>
</tr>
<tr>
<td align="left">data-istMaxHeight</td>
<td align="left">340px</td>
<td align="left">列表最大高度</td>
</tr>
<tr>
<td align="left">data-storageName</td>
<td align="left">metingjs</td>
<td align="left">存储播放器设置的 localStorage key</td>
</tr>
<tr>
<td align="left">data-fixed</td>
<td align="left">true</td>
<td align="left">开启吸底模式: <code>true</code>，<code>false</code></td>
</tr>
<tr>
<td align="left">data-mini</td>
<td align="left">true</td>
<td align="left">是否显示完整播放器，开启/关闭 迷你模式: <code>true</code>，<code>false</code></td>
</tr>
</tbody></table>
<h3 id="设置Aplayer-收回方式"><a href="#设置Aplayer-收回方式" class="headerlink" title="设置Aplayer 收回方式"></a>设置Aplayer 收回方式</h3><p>设置 Aplayer 收回时将音乐 Cover 也隐藏掉，只留下右侧的箭头栏，防止遮挡阅读：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;&lt;style type=&quot;text/css&quot;&gt;.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body&#123;left:-66px!important&#125;.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover&#123;left:0!important&#125;&lt;/style&gt;&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="live2D看板娘"><a href="#live2D看板娘" class="headerlink" title="live2D看板娘"></a>live2D看板娘</h2><p>安装hexo-helper-live2d插件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure>

<p>下载相应的模型:<br><a target="_blank" rel="noopener" href="https://huaji8.top/post/live2d-plugin-2.0/">动态样式预览地址</a>, <a target="_blank" rel="noopener" href="https://github.com/EYHN/hexo-helper-live2d">项目地址</a>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install live2d-widget-model-koharu</span><br></pre></td></tr></table></figure>

<p>各模型名称及预览：</p>
<div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">miku</button></li><li class="tab"><button type="button" data-href="#-2">Epsilon2.1</button></li><li class="tab"><button type="button" data-href="#-3">haru</button></li><li class="tab"><button type="button" data-href="#-4">tsumiki</button></li><li class="tab"><button type="button" data-href="#-5">hibiki</button></li><li class="tab"><button type="button" data-href="#-6">shizuku</button></li><li class="tab"><button type="button" data-href="#-7">z16</button></li><li class="tab"><button type="button" data-href="#-8">koharu</button></li><li class="tab"><button type="button" data-href="#-9">haruto</button></li><li class="tab"><button type="button" data-href="#-10">nico</button></li><li class="tab"><button type="button" data-href="#-11">nietzche</button></li><li class="tab"><button type="button" data-href="#-12">ni-j</button></li><li class="tab"><button type="button" data-href="#-13">nipsilon</button></li><li class="tab"><button type="button" data-href="#-14">nito</button></li><li class="tab"><button type="button" data-href="#-15">Unitychan</button></li><li class="tab"><button type="button" data-href="#-16">wankopng</button></li><li class="tab"><button type="button" data-href="#-17">hijiki</button></li><li class="tab"><button type="button" data-href="#-18">tororo</button></li><li class="tab"><button type="button" data-href="#-19">Gantzert_Felixander</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/miku.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/Epsilon2.1.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/haru.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/tsumiki.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-5"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/hibiki.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-6"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/shizuku.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-7"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/z16.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-8"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/koharu.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-9"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/haruto.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-10"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/nico.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-11"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/nietzche.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-12"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/ni-j.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-13"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/nipsilon.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-14"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/nito.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-15"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/Unitychan.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-16"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/wankopng.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-17"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/hijiki.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-18"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/tororo.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-19"><p><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-custom-modify/Gantzert_Felixander.webp"></p><button type="button" class="tab-to-top"><i class="fas fa-arrow-up"></i></button></div></div></div>


<p><font color= #00c4b6>博客配置文件</font>新增配置：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  <span class="attr">live2d:</span></span><br><span class="line"><span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">scriptFrom:</span> <span class="string">local</span></span><br><span class="line"><span class="attr">model:</span> </span><br><span class="line">	<span class="attr">use:</span> <span class="string">live2d-widget-model-koharu</span> <span class="comment">#选择下载了的模型koharu</span></span><br><span class="line"><span class="attr">display:</span> </span><br><span class="line">	<span class="attr">position:</span> <span class="string">right</span>  <span class="comment">#模型位置</span></span><br><span class="line">	<span class="attr">width:</span> <span class="number">150</span>       <span class="comment">#模型宽度</span></span><br><span class="line">	<span class="attr">height:</span> <span class="number">300</span>      <span class="comment">#模型高度</span></span><br><span class="line"><span class="attr">mobile:</span> </span><br><span class="line">	<span class="attr">show:</span> <span class="literal">true</span>      <span class="comment">#是否在手机端显示</span></span><br></pre></td></tr></table></figure>
<h2 id="头图page-header加气泡动画"><a href="#头图page-header加气泡动画" class="headerlink" title="头图page-header加气泡动画"></a>头图page-header加气泡动画</h2><p>参考Heson大佬的项目<a target="_blank" rel="noopener" href="https://github.com/heson525/heson-demo/tree/main/bubble">cavan泡泡</a>，<a target="_blank" rel="noopener" href="https://www.heson10.com/demo/bubble/">演示地址</a></p>
<ul>
<li><p>在引入的自定义js文件中加入如下代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> canvas, ctx, width, height, bubbles, animateHeader = <span class="literal">true</span>;</span><br><span class="line">    initHeader();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">initHeader</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        canvas = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;header_canvas&#x27;</span>);</span><br><span class="line">        window_resize();</span><br><span class="line">        ctx = canvas.getContext(<span class="string">&#x27;2d&#x27;</span>);</span><br><span class="line">        <span class="comment">//建立泡泡</span></span><br><span class="line">        bubbles = [];</span><br><span class="line">        <span class="keyword">var</span> num = width * <span class="number">0.04</span>; <span class="comment">//气泡数量</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> c = <span class="keyword">new</span> Bubble();</span><br><span class="line">            bubbles.push(c);</span><br><span class="line">        &#125;</span><br><span class="line">        animate();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (animateHeader) &#123;</span><br><span class="line">            ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> bubbles) &#123;</span><br><span class="line">                bubbles[i].draw();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        requestAnimationFrame(animate);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">window_resize</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//canvas铺满窗口</span></span><br><span class="line">        width = <span class="built_in">window</span>.innerWidth;</span><br><span class="line">        height = <span class="built_in">window</span>.innerHeight;</span><br><span class="line">        <span class="comment">//如果需要铺满内容可以换下面这个</span></span><br><span class="line">        <span class="comment">//var panel = document.getElementById(&#x27;thumbnail_canvas&#x27;);</span></span><br><span class="line">        <span class="comment">//width=panel.offsetWidth;</span></span><br><span class="line">        <span class="comment">//height=panel.offsetHeight;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        canvas.width = width;</span><br><span class="line">        canvas.height = height;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        window_resize();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Bubble</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> _this = <span class="built_in">this</span>;</span><br><span class="line">        (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            _this.pos = &#123;&#125;;</span><br><span class="line">            init();</span><br><span class="line">        &#125;)();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            _this.pos.x = <span class="built_in">Math</span>.random() * width;</span><br><span class="line">            _this.pos.y = height + <span class="built_in">Math</span>.random() * <span class="number">100</span>;</span><br><span class="line">            _this.alpha = <span class="number">0.1</span> + <span class="built_in">Math</span>.random() * <span class="number">0.5</span>; <span class="comment">//气泡透明度</span></span><br><span class="line">            _this.alpha_change = <span class="number">0.0002</span> + <span class="built_in">Math</span>.random() * <span class="number">0.0001</span>; <span class="comment">//气泡透明度变化速度</span></span><br><span class="line">            _this.scale = <span class="number">0.2</span> + <span class="built_in">Math</span>.random() * <span class="number">0.5</span>; <span class="comment">//气泡大小</span></span><br><span class="line">            _this.scale_change = <span class="built_in">Math</span>.random() * <span class="number">0.002</span>; <span class="comment">//气泡大小变化速度</span></span><br><span class="line">            _this.speed = <span class="number">0.1</span> + <span class="built_in">Math</span>.random() * <span class="number">1</span>; <span class="comment">//气泡上升速度</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//气泡</span></span><br><span class="line">        <span class="built_in">this</span>.draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (_this.alpha &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                init();</span><br><span class="line">            &#125;</span><br><span class="line">            _this.pos.y -= _this.speed;</span><br><span class="line">            _this.alpha -= _this.alpha_change;</span><br><span class="line">            _this.scale += _this.scale_change;</span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.arc(_this.pos.x, _this.pos.y, _this.scale * <span class="number">10</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI, <span class="literal">false</span>);</span><br><span class="line">            ctx.fillStyle = <span class="string">&#x27;rgba(255,255,255,&#x27;</span> + _this.alpha + <span class="string">&#x27;)&#x27;</span>;</span><br><span class="line">            ctx.fill();</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>blogName\themes\butterfly\layout\includes\header\index.pug</code>文件中加入如下备注的代码：</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">header#page-header(class=isHomeClass style=bg_img)</span><br><span class="line">  !=partial(&#x27;includes/header/nav&#x27;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">  if top_img !== false</span><br><span class="line">    if is_post()</span><br><span class="line">      include ./post-info.pug</span><br><span class="line">    else if is_home() </span><br><span class="line">      #site-info</span><br><span class="line">        h1#site-title=site_title</span><br><span class="line">        #site-subtitle</span><br><span class="line">          span#subtitle</span><br><span class="line">        if(theme.social)</span><br><span class="line">          #site_social_icons</span><br><span class="line">            !=fragment_cache(&#x27;social&#x27;, function()&#123;return partial(&#x27;includes/header/social&#x27;)&#125;)</span><br><span class="line">      #scroll-down</span><br><span class="line">        i.fas.fa-angle-down.scroll-down-effects</span><br><span class="line">    else</span><br><span class="line">      #page-site-info</span><br><span class="line">        h1#site-title=site_title</span><br><span class="line">  //-加入下面这行</span><br><span class="line">  <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;header_canvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;hight: 100%;overflow-x: hidden;outline-style: none;outline-width: 0px;pointer-events: none;position: relative;z-index: 99999;bottom: 0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="彩色背景"><a href="#彩色背景" class="headerlink" title="彩色背景"></a>彩色背景</h2><p>参考<a target="_blank" rel="noopener" href="https://www.antmoe.com/posts/7198453/index.html">Hexo博客之butterfly主题优雅更换背景</a>:<br><code>self..css</code>新增代码：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#web_bg</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(</span><br><span class="line">    <span class="number">0deg</span>,</span><br><span class="line">    rgba(<span class="number">247</span>, <span class="number">149</span>, <span class="number">51</span>, <span class="number">0.1</span>) <span class="number">0</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">243</span>, <span class="number">112</span>, <span class="number">85</span>, <span class="number">0.1</span>) <span class="number">15%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">239</span>, <span class="number">78</span>, <span class="number">123</span>, <span class="number">0.1</span>) <span class="number">30%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>, <span class="number">0.1</span>) <span class="number">44%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>, <span class="number">0.1</span>) <span class="number">58%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">16</span>, <span class="number">152</span>, <span class="number">173</span>, <span class="number">0.1</span>) <span class="number">72%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">7</span>, <span class="number">179</span>, <span class="number">155</span>, <span class="number">0.1</span>) <span class="number">86%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">109</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">0.1</span>) <span class="number">100%</span></span><br><span class="line">  );</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-moz-linear-gradient</span>(</span><br><span class="line">    <span class="number">0deg</span>,</span><br><span class="line">    rgba(<span class="number">247</span>, <span class="number">149</span>, <span class="number">51</span>, <span class="number">0.1</span>) <span class="number">0</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">243</span>, <span class="number">112</span>, <span class="number">85</span>, <span class="number">0.1</span>) <span class="number">15%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">239</span>, <span class="number">78</span>, <span class="number">123</span>, <span class="number">0.1</span>) <span class="number">30%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>, <span class="number">0.1</span>) <span class="number">44%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>, <span class="number">0.1</span>) <span class="number">58%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">16</span>, <span class="number">152</span>, <span class="number">173</span>, <span class="number">0.1</span>) <span class="number">72%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">7</span>, <span class="number">179</span>, <span class="number">155</span>, <span class="number">0.1</span>) <span class="number">86%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">109</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">0.1</span>) <span class="number">100%</span></span><br><span class="line">  );</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-o-linear-gradient</span>(</span><br><span class="line">    <span class="number">0deg</span>,</span><br><span class="line">    rgba(<span class="number">247</span>, <span class="number">149</span>, <span class="number">51</span>, <span class="number">0.1</span>) <span class="number">0</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">243</span>, <span class="number">112</span>, <span class="number">85</span>, <span class="number">0.1</span>) <span class="number">15%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">239</span>, <span class="number">78</span>, <span class="number">123</span>, <span class="number">0.1</span>) <span class="number">30%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>, <span class="number">0.1</span>) <span class="number">44%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>, <span class="number">0.1</span>) <span class="number">58%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">16</span>, <span class="number">152</span>, <span class="number">173</span>, <span class="number">0.1</span>) <span class="number">72%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">7</span>, <span class="number">179</span>, <span class="number">155</span>, <span class="number">0.1</span>) <span class="number">86%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">109</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">0.1</span>) <span class="number">100%</span></span><br><span class="line">  );</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-ms-linear-gradient</span>(</span><br><span class="line">    <span class="number">0deg</span>,</span><br><span class="line">    rgba(<span class="number">247</span>, <span class="number">149</span>, <span class="number">51</span>, <span class="number">0.1</span>) <span class="number">0</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">243</span>, <span class="number">112</span>, <span class="number">85</span>, <span class="number">0.1</span>) <span class="number">15%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">239</span>, <span class="number">78</span>, <span class="number">123</span>, <span class="number">0.1</span>) <span class="number">30%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>, <span class="number">0.1</span>) <span class="number">44%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>, <span class="number">0.1</span>) <span class="number">58%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">16</span>, <span class="number">152</span>, <span class="number">173</span>, <span class="number">0.1</span>) <span class="number">72%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">7</span>, <span class="number">179</span>, <span class="number">155</span>, <span class="number">0.1</span>) <span class="number">86%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">109</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">0.1</span>) <span class="number">100%</span></span><br><span class="line">  );</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(</span><br><span class="line">    <span class="number">90deg</span>,</span><br><span class="line">    rgba(<span class="number">247</span>, <span class="number">149</span>, <span class="number">51</span>, <span class="number">0.1</span>) <span class="number">0</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">243</span>, <span class="number">112</span>, <span class="number">85</span>, <span class="number">0.1</span>) <span class="number">15%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">239</span>, <span class="number">78</span>, <span class="number">123</span>, <span class="number">0.1</span>) <span class="number">30%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>, <span class="number">0.1</span>) <span class="number">44%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>, <span class="number">0.1</span>) <span class="number">58%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">16</span>, <span class="number">152</span>, <span class="number">173</span>, <span class="number">0.1</span>) <span class="number">72%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">7</span>, <span class="number">179</span>, <span class="number">155</span>, <span class="number">0.1</span>) <span class="number">86%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">109</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">0.1</span>) <span class="number">100%</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<div class="note danger simple"><p>待续</p>
</div>


</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">星流迭雪</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://xingliudie.top/20201119-butterfly-custom-modify/">https://xingliudie.top/20201119-butterfly-custom-modify/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://xingliudie.top" target="_blank">星流迭雪</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/hexo/">hexo</a><a class="post-meta__tags" href="/tags/note/">note</a><a class="post-meta__tags" href="/tags/buterfly/">buterfly</a></div><div class="post_share"><div class="social-share" data-image="/img/custom/butterfly.webp" data-sites="wechat,weibo,qq,twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" data-lazy-src="/img/wechat.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" data-lazy-src="/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/20201110-immunoglobulin/"><img class="next-cover" data-lazy-src="/img/antibody/antibody_05.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">抗体（Antibody,Ab）</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/20200407-building_notes/" title="My blog building notes"><img class="cover" data-lazy-src="/img/custom/book01.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-04-07</div><div class="title">My blog building notes</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">星流迭雪</div><div class="author-info__description">一羽渡红尘</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xingliudiexue"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:2658756105@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.zhihu.com/people/xing-liu-die-zhuan" target="_blank" title="zhihu"><i class="iconfont icon-zhihu"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的小站参观！</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="card-content"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6"><span class="toc-number">1.1.</span> <span class="toc-text">软件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8D%A2%E6%BA%90"><span class="toc-number">1.2.</span> <span class="toc-text">换源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85hexo"><span class="toc-number">1.3.</span> <span class="toc-text">安装hexo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E7%BD%91%E7%AB%99"><span class="toc-number">1.4.</span> <span class="toc-text">初始化网站</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85butterfly%E4%B8%BB%E9%A2%98"><span class="toc-number">1.5.</span> <span class="toc-text">安装butterfly主题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AA%E6%80%A7%E5%8C%96%E4%BF%AE%E6%94%B9%E5%89%8D%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6"><span class="toc-number">1.6.</span> <span class="toc-text">个性化修改前安装插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%B0%86%E8%A6%81%E7%94%A8%E5%88%B0%E7%9A%84%E6%8F%92%E4%BB%B6%E6%8F%92%E4%BB%B6"><span class="toc-number">1.7.</span> <span class="toc-text">安装将要用到的插件插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%87%E7%BA%A7%E5%BB%BA%E8%AE%AE%EF%BC%9A"><span class="toc-number">1.8.</span> <span class="toc-text">升级建议：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE"><span class="toc-number">2.</span> <span class="toc-text">个性化配置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%AE%9A%E5%88%B6"><span class="toc-number">3.</span> <span class="toc-text">全局定制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E9%A2%98%E8%89%B2"><span class="toc-number">3.1.</span> <span class="toc-text">主题色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1"><span class="toc-number">3.2.</span> <span class="toc-text">字数统计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2"><span class="toc-number">3.3.</span> <span class="toc-text">网站内搜索</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%89%B9%E6%95%88"><span class="toc-number">3.4.</span> <span class="toc-text">鼠标点击特效</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%88%E6%9E%9C"><span class="toc-number">3.5.</span> <span class="toc-text">引入自定义效果</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E9%BC%A0%E6%A0%87%E6%8C%87%E9%92%88"><span class="toc-number">3.5.1.</span> <span class="toc-text">更改鼠标指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%B3%E4%BE%A7%E6%BB%9A%E5%8A%A8%E6%9D%A1"><span class="toc-number">3.5.2.</span> <span class="toc-text">右侧滚动条</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%90%AFvaline%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%B9%B6%E7%BE%8E%E5%8C%96"><span class="toc-number">3.6.</span> <span class="toc-text">开启valine评论系统并美化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BE%8E%E5%8C%96"><span class="toc-number">3.6.1.</span> <span class="toc-text">美化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%85%A8%E5%B1%80%E5%90%B8%E5%BA%95-Aplayer-%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8"><span class="toc-number">3.7.</span> <span class="toc-text">添加全局吸底 Aplayer 音乐播放器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%92%AD%E6%94%BE%E5%99%A8"><span class="toc-number">3.7.1.</span> <span class="toc-text">配置播放器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEAplayer-%E6%94%B6%E5%9B%9E%E6%96%B9%E5%BC%8F"><span class="toc-number">3.7.2.</span> <span class="toc-text">设置Aplayer 收回方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#live2D%E7%9C%8B%E6%9D%BF%E5%A8%98"><span class="toc-number">3.8.</span> <span class="toc-text">live2D看板娘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%B4%E5%9B%BEpage-header%E5%8A%A0%E6%B0%94%E6%B3%A1%E5%8A%A8%E7%94%BB"><span class="toc-number">3.9.</span> <span class="toc-text">头图page-header加气泡动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%A9%E8%89%B2%E8%83%8C%E6%99%AF"><span class="toc-number">3.10.</span> <span class="toc-text">彩色背景</span></a></li></ol></li></ol></div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/20201119-butterfly-custom-modify/" title="butterfly主题个性化修改（hexo博客）笔记"><img data-lazy-src="/img/custom/butterfly.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="butterfly主题个性化修改（hexo博客）笔记"/></a><div class="content"><a class="title" href="/20201119-butterfly-custom-modify/" title="butterfly主题个性化修改（hexo博客）笔记">butterfly主题个性化修改（hexo博客）笔记</a><time datetime="2020-11-19T07:26:31.000Z" title="发表于 2020-11-19 15:26:31">2020-11-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/20201110-immunoglobulin/" title="抗体（Antibody,Ab）"><img data-lazy-src="/img/antibody/antibody_05.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="抗体（Antibody,Ab）"/></a><div class="content"><a class="title" href="/20201110-immunoglobulin/" title="抗体（Antibody,Ab）">抗体（Antibody,Ab）</a><time datetime="2020-11-10T04:59:51.000Z" title="发表于 2020-11-10 12:59:51">2020-11-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/20201013-residencyOphthalmology/" title="眼科（Ophthalmology）"><img data-lazy-src="/img/residencyOphthalmology/eye_00.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="眼科（Ophthalmology）"/></a><div class="content"><a class="title" href="/20201013-residencyOphthalmology/" title="眼科（Ophthalmology）">眼科（Ophthalmology）</a><time datetime="2020-10-13T12:03:05.000Z" title="发表于 2020-10-13 20:03:05">2020-10-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/20200407-building_notes/" title="My blog building notes"><img data-lazy-src="/img/custom/book01.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="My blog building notes"/></a><div class="content"><a class="title" href="/20200407-building_notes/" title="My blog building notes">My blog building notes</a><time datetime="2020-04-07T05:37:02.000Z" title="发表于 2020-04-07 13:37:02">2020-04-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/20200407-hello-world/" title="你好！"><img data-lazy-src="/img/hello-world/01.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="你好！"/></a><div class="content"><a class="title" href="/20200407-hello-world/" title="你好！">你好！</a><time datetime="2020-04-07T05:37:02.000Z" title="发表于 2020-04-07 13:37:02">2020-04-07</time></div></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/custom/SunsetGlow.webp)"><div id="footer-wrap"><div class="copyright">&copy;2020 By 星流迭雪</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><p> 宠辱不惊，闲看庭前花开花落 <br /> 去留无意，漫随天外云卷云舒 <br /> </p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.spacingElementById('content-inner')
  else {
    $.getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js', () => {
      pangu.spacingElementById('content-inner')
    })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguFn)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    let initData = {
      el: '#vcomment',
      appId: 'uoRcBFTK0REmMWYKSJosEIgT-gzGzoHsz',
      appKey: 'oBtJHt4qt1xldhBJ4paVNCV2',
      placeholder: '昵称栏输入QQ获取头像，快输入你的吐槽吧( ￣▽￣)σ',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: true,
      path: window.location.pathname,
      //-添加博主 小伙伴 访客标签新增修改：
      master: '208501c4486b522ec8aefde5035cfbf5', 
      friends: ['',''],
      tagMeta: ["博主","小伙伴","访客"],
      //-
    }

    if (true) { 
      initData.requiredFields= ('nick,mail'.split(','))
    }
    
    if (false) {
      const otherData = false
      initData = Object.assign({}, initData, otherData)
    }
    
    const valine = new Valine(initData)
  }

  if (typeof Valine === 'function') initValine() 
  else $.getScript('/js/Valine.min.self.min.js', initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.querySelector('#vcomment'),loadValine)
  else setTimeout(() => loadValine(), 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div class="aplayer no-destroy" data-id="732801999" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="list" data-preload="none" data-autoplay="false" muted></div><script src="/js/self.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" async="async" mobile="true"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config_change',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  $('script[data-pjax]').each(function () {
    $(this).parent().append($(this).remove())
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  if (typeof gtag === 'function') {
    gtag('config', '', {'page_path': window.location.pathname});
  }

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  $(window).off('scroll')

  //reset readmode
  $('body').hasClass('read-mode') && $('body').removeClass('read-mode')

})</script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>